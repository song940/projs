<!DOCTYPE html>
<html>
<head>
<title></title>
<script type="text/javascript" src="js/pro.js" ></script>
<script type="text/tmpl" id="users-index" >
  Hello <%= name %>
</script>
<script type="text/javascript">
;(function(win, undefined){

  Projs.DOM.ready(function($){
    
    var app = new Projs.App({  });
    var router = app.route({ 
      '/home'           : 'home#index',
      '/user/:id/*path' : 'users#index'
    });

    var User = new Projs.Model('/users',{
      $id: 'name'
    });

    //GET /users
    User.$find({}, function(err, user){
      console.log(user);
    });
    //GET /users/lsong
    User.$find({ name: 'lsong' }, function(err, users){
      console.log(users);
    });
    //PUT /users/lsong
    User.$save({ name: 'lsong' }, function(err, user){
      console.log(user);
    });
    //POST /users
    User.$create({ name: 'lsong'}, function(err, user){
      console.log(user);
    });
    //DELETE /users/lsong
    User.$delete({ name: 'lsong' }, function(err, user){
      console.log(user);
    });


    app.controller('home',{
      index: function(){
        console.log("I'm in home at index! ");
      }
    });

    app.controller('users',{
      index: function(id, path){
        this.name = 'Lsong';
        this.render('h1');
      }
    });

    router.start();
  });

})(window);
</script>
</head>
<body>
  <h1>Pro.js MVC</h1>
<a href="#/home">Home</a>
<a href="#/user/song940/setting">User</a>
</body>
<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
</html>
